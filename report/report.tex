\documentclass[danish]{article}

\usepackage{fullpage} 
\usepackage[latin1]{inputenc} 
\usepackage[danish]{babel}
\usepackage{listings} 
\usepackage{xcolor}
\usepackage{amssymb} 
\usepackage{amsmath} 
\usepackage{fancyhdr}
\usepackage{lastpage} 
\usepackage{hyperref}
\usepackage{parskip} 
\usepackage{graphicx} 
\usepackage{epstopdf}
\usepackage{abstract}


% setup c sharp syntax highlight 
\lstdefinestyle{sharpc}{ language=[Sharp]C,
frame=lr, rulecolor=\color{black}, basicstyle=\footnotesize\ttfamily,
keywordstyle=\bfseries\color{green!40!black},
commentstyle=\itshape\color{purple!40!black}, identifierstyle=\color{blue},
stringstyle=\color{orange}}

\lstset{ style=sharpc, numbers=left, escapeinside={\<*}{*>},
breakatwhitespace=true }

% code formatting helper 
\newcommand{\code}[1]{\texttt{#1}}

% no paragraph indention 
\setlength{\parindent}{0pt}

% setup page style 
\pagestyle{fancy} 
\fancyhf{} 
\setlength{\headheight}{15pt}
\setlength{\headsep}{25pt} 
\lfoot{Side \thepage{} af \pageref{LastPage}}
\rfoot{07/05-2013} \lhead{02180 Intro to A.I.} 
\chead{Heureka} 
\rhead{}

\author{
  Patrick Gadd\\
  \texttt{s113491}
  \and
  Simon Altschuler\\
  \texttt{s123563}
}
\title{Heureka projekt}
\date{07/05-2013}

\begin{document}
\maketitle

\textbf{Abstract} \\ 
I denne opgave undersøger vi teori og implementation af heuristiske søge metoder. Vi benytter \code{A*} søgning til både at finde vej gennem et bykort og til at udlede logiske slutninger.

\clearpage

\section{Introduktion} 
Til projektet har vi brugt \code{C\#} til implementation af programmet. 

\section{A* generelt} 
Derp derp
\subsection{Algoritmen}
Derp derp derp

\subsection{Cost-funktion og Heurestik}
Mere derp

\section{Rutefinding} 
\subsection{Repræsentation af data / Datastrukturer}
I rutefinding består et \code{State} af et \code{(X,Y)} koordinat som beskriver knudens position på kortet. Dette er alt hvad der skal bruges for at udregne den heuristiske værdi fra en arbitrær knude til en given mål-\code{State}.

En \code{Action} finder sin cost ved at udregne afstanden mellem sit \code{StartState} og \code{EndState}s koordinater.

Knowledge basen for rutefinding genereres ud fra en tekstfil med følgende struktur:

\begin{lstlisting}
startX_1 startY_1 navn_1 slutX_1 slutY_1
startX_2 startY_2 navn_2 slutX_2 slutY_2
...
startX_n startY_n navn_n slutX_n slutY_n
\end{lstlisting}

Dette bliver parset til to states (start og end) og en action i mellem dem, som alle bliver gemt i Knowledge basen. Alle \code{Action}s bliver fundet på forhånd så \code{A*} algoritmen ikke skal søge gennem \code{State}s under eksekvering, men blot kan slå de relevante \code{Action}s op. Det betyder et større pladsforbrug, men en bedre tidskompleksitet efter parsing.

\subsection{Heuristik}
Den heuristiske værdi for en \code{Node} (\code{h(node)}) i rutefinding er bestemt ud fra fugleflugts afstanden til målet. Den strategi egner sig bedst til åbne grafer uden ``blindgyder'', da \code{h(node)} ikke kan tage højde for disse og vil forsøge at gå ned af blindgyderne hvis de ligger tættere på målet. \code{f(node)}, altså den samlede heuristiske værdi (cost indtil nu plus estimeret afstand til mål), udregnes på følgende måde for enhver knude i grafen under rutefinding:
\[ h(node) = \sqrt{(node.State.X - targetState.X)^2 + (node.State.Y - targetState.Y)^2} \]
\[ f(node) = node.Parent.PathCost + node.Action.Cost + h(node) \]
Hvor \code{node.Parent} er den \code{Node} fra hvilken algoritmen kom til den nuværende \code{Node}. \code{node.PathCost} er den samlede cost for at komme til \code{Node}n, \emph{uden} den heuristiske værdi. Det bemærkes at en \code{Node} har både en \code{Action} (som er den \code{Action} der blev taget for at komme \code{Node}n) og et \code{State}, som skal bruges til at udregne den samlede cost (\code{PathCost}). 

\subsection{Setup og kørsel af programmet}
Kørsel af en rutefinding foregår ved først at parse en tekstfil til en knowledge base. Den KB, sammen med et \code{StartState} og \code{EndState} gives som parametre til \code{AStar.Search()}, som returnerer et \code{SearchResult}. \code{SearchResult} indeholder den funde mål \code{Node}, hvis der findes en sti. Denne \code{Node} er første element i en linked list af \code{Node}s som fører til start knuden der blev søgt fra. På den måde kan hele ruten printes/analyseres. 

\section{Inferens} 
\subsection{Repræsentation af data / Datastrukturer}
\subsection{Resolution}
\subsection{Heuristik}
\subsection{Setup og kørsel af programmet}


\section*{Konklusion} 
\subsection{Output?}
\subsection{Status på engine}
Fejler uden heurestik på PQ-inferens.
Mangler at implementere at én resolve kan give flere Nodes.
Tager flere iterationer med H(n) på KBH-rutefinding

\section*{Datastrukturer}
Klausuler som struct med Navn + Proposition
Vi burde bruge HashSet (virker ikke?!)
KB er en liste af klausuler
State har klausuler
Node har state
Prioritetskø som frontier (burde bruge minhob til køen)

\section*{Kørsel af programmet}
Parser .kb filer til en KB
Search tager kb og Target state (tom klausul for inference, state for routefinding)




\end{document}